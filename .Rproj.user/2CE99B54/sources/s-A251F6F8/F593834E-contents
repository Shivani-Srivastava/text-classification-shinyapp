if (interactive ()) {
  library ("shiny") 
  library ("shinyWidgets") 
  ui <- fluidPage (
    tags $ h1 ("Confirm sweet alert"), 
    actionButton (inputId = "launch", 
                  label = "Launch confirmation dialog"), 
    verbatimTextOutput (outputId = "res"), 
    uiOutput (outputId = "count"))
  
  server <- function (input, output, session) {
    # Launch sweet alert confirmation 
    observeEvent (input$launch, 
                  { confirmSweetAlert (session = session, 
                                       inputId = "myconfirmation",
                                       title = "Want to confirm ?")
                  })
  }
}


build_tokens <- function(data,n_grams=1){
  tokens <- tokens(
    data,
    remove_punct = TRUE,
    remove_numbers = TRUE,
    remove_symbols = TRUE,
    split_hyphens = TRUE,
  )
  
  tokens <- tokens_tolower(tokens)
  tokens <- tokens_select(tokens,stopwords(),selection="remove")
  tokens <- tokens_wordstem(tokens,language="english")
  tokens <- tokens_ngrams(tokens,n=1:n_grams)
  return(tokens)
}

build_dfm <- function(data,n_grams=1){
  tokens <- build_tokens(data,n_grams)
  return(dfm(tokens))
}



train.dfm <- build_dfm(df$review)
